<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Welcome to the Colonial' Craft official Website</title>
  <link rel="icon" href="icon.png" />
  <style>
    :root {
      --bg-color: #000;
      --text-color: #fff;
      --card-bg: rgba(0, 0, 0, 0.7);
      --link-color: #90cdf4;
      --navbar-bg: rgba(0,0,0,0.8);
    }
    body.light-mode {
      --bg-color: #fff;
      --text-color: #000;
      --card-bg: rgba(255, 255, 255, 0.8);
      --link-color: #0077cc;
      --navbar-bg: rgba(255,255,255,0.9);
    }
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: url('banner (2).png') center center fixed;
      background-size: cover;
      background-attachment: fixed;
      scroll-behavior: smooth;
      color: var(--text-color);
      background-color: var(--bg-color);
    }

    /* Navbar styles */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: var(--navbar-bg);
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1rem 0;
      z-index: 1000;
      box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }
    nav a {
      margin: 0 1rem;
      text-decoration: none;
      color: var(--text-color);
      font-weight: bold;
      transition: color 0.3s;
    }
    nav a:hover {
      color: var(--link-color);
    }
    nav .settings {
      cursor: pointer;
      font-size: 1.2rem;
      margin-left: 1rem;
      transition: color 0.3s;
    }
    nav .settings:hover {
      color: var(--link-color);
    }

    .overlay {
      background-color: rgba(0, 0, 0, 0.6);
      min-height: 100vh;
      padding: 6rem 2rem 2rem 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .card {
      background: var(--card-bg);
      border-radius: 10px;
      padding: 1.5rem;
      margin: 1rem;
      max-width: 600px;
      width: 90%;
      text-align: center;
      position: relative;
    }
    .discord {
      position: absolute;
      top: 1rem;
      right: 3rem;
      font-size: 1.5rem;
      text-decoration: none;
      color: var(--text-color);
      transition: color 0.3s;
    }
    .discord:hover { color: #7289da; }

    h1 {
      font-size: 3rem;
      text-align: center;
    }
    .subtitle {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      text-align: center;
    }
    .emoji {
      font-size: 1.5rem;
      margin-right: 0.5rem;
    }
    .refresh {
      display: inline-block;
      margin-left: 0.5rem;
      cursor: pointer;
      transition: transform 0.6s ease;
    }
    .refresh.spin {
      transform: rotate(360deg);
    }
    .player-list {
      max-height: 100px;
      overflow: hidden;
      transition: max-height 0.3s ease-in-out;
    }
    .player-entry {
      display: flex;
      align-items: center;
      margin: 0.2rem 0;
      transition: background 0.3s;
      color: var(--text-color);
    }
    .player-entry img {
      width: 20px;
      height: 20px;
      margin-right: 0.5rem;
    }
    .view-more {
      margin-top: 0.5rem;
      color: #ccc;
      cursor: pointer;
      font-size: 0.9rem;
      user-select: none;
    }
    .how-to-join {
      margin-top: 4rem;
      text-align: center;
      padding-bottom: 4rem;
    }
    .autorefresh {
      font-size: 0.9rem;
      margin-top: 0.5rem;
      color: var(--text-color);
    }

    /* Settings Dropdown */
    .settings-menu {
      position: absolute;
      top: 2.5rem;
      right: 1rem;
      background: var(--card-bg);
      padding: 1rem;
      border-radius: 8px;
      display: none;
      flex-direction: column;
      min-width: 200px;
      z-index: 100;
    }
    .settings-menu select, .settings-menu label {
      margin-bottom: 0.7rem;
    }
    .settings-menu label {
      cursor: pointer;
    }

    /* Announcement Card */
    .announcement-card {
      position: fixed;
      top: 120px;
      left: 20px;
      background: var(--card-bg);
      color: var(--text-color);
      padding: 1rem;
      border-radius: 10px;
      width: 250px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.5);
      z-index: 1000;
      font-size: 0.95rem;
    }
    .announcement-card h3 {
      margin-top: 0;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
      text-align: center;
    }
    .announcement-card p {
      margin: 0;
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav>
    <a href="#join">Home</a>
    <a href="#serverStatus">Server Status</a>
    <a href="http://209.192.185.135:25572/" target="_blank">World Map</a>
    <span class="settings" onclick="toggleSettings()" title="Settings">‚öôÔ∏è</span>
  </nav>

  <!-- Announcement Card -->
  <div class="announcement-card">
    <h3>üì¢ Upcoming Events</h3>
    <p>Season 9 Has Begun!</p>
  </div>

  <div class="overlay">
    <a class="discord" href="https://discord.gg/DJPG7rnckN" title="Join our Discord!" target="_blank">üí¨</a>
    <div class="settings-menu" id="settingsMenu">
      <label>
        <input type="checkbox" id="themeToggle" onchange="toggleTheme()" />
        Toggle Light/Dark Mode
      </label>
      <label for="languageSelect">Choose Language</label>
      <select id="languageSelect" onchange="changeLanguage()">
        <option value="en">English</option>
        <option value="de">German</option>
        <option value="fr">French</option>
        <option value="es">Spanish</option>
      </select>
    </div>

    <h1 id="title">Welcome to the Colonial' Craft official Website</h1>
    <div class="subtitle" id="subtitle">Explore, survive, and build together. Check who‚Äôs online below.</div>

    <div class="card" id="serverStatus">
      <div>
        <span class="emoji">üåê</span><strong id="serverLabel">Server Status</strong>
        <span class="refresh" id="refreshIcon" onclick="checkServerStatus()">&#x21bb;</span>
      </div>
      <p id="statusText">Checking server status...</p>
      <div id="playerList" class="player-list"></div>
      <div class="view-more" id="viewMore" onclick="togglePlayerList()" style="display: none;"></div>
      <div class="autorefresh" id="autorefresh">Automatically refreshing in 30 seconds</div>
    </div>

    <div class="card" id="aboutCard">
      <div><span class="emoji">üìñ</span><strong id="aboutLabel">About Colonial' Craft</strong></div>
      <p id="aboutText">
        üåç Welcome to Colonial' Craft!<br>
        Colonial Craft is a Minecraft Lifesteal SMP where every battle could be your last. Each kill steals hearts from your enemies, bringing you closer to power ‚Äî or closer to elimination. With custom swords and unique combat, every fight is high stakes. Will you survive as a lone warrior, or fall and lose it all? The story of Colonial Craft is written by those strong enough to endure.
      </p>
    </div>

    <div class="card how-to-join" id="join">
      <div><span class="emoji">üõ†Ô∏è</span><strong id="howToJoinLabel">How to Join Colonial' Craft</strong></div>
      <p id="joinText">
        1. Launch Minecraft (Java Edition recommended).<br />
        2. Go to Multiplayer and click Add Server.<br />
        3. Enter Server IP: <strong>colonialcraft.sherman.gg</strong><br />
        4. Join and start exploring!<br /><br />
        üí°<a href="https://discord.gg/DJPG7rnckN" target="_blank" style="color: var(--link-color);">Join Discord here</a>
      </p>
    </div>
  </div>

  <script>
    const serverIP = "colonialcraft.sherman.gg";
    const statusText = document.getElementById("statusText");
    const playerListContainer = document.getElementById("playerList");
    const viewMoreBtn = document.getElementById("viewMore");
    const refreshIcon = document.getElementById("refreshIcon");
    const autorefreshText = document.getElementById("autorefresh");
    const themeToggle = document.getElementById("themeToggle");
    const settingsMenu = document.getElementById("settingsMenu");

    const title = document.getElementById("title");
    const subtitle = document.getElementById("subtitle");
    const serverLabel = document.getElementById("serverLabel");
    const aboutLabel = document.getElementById("aboutLabel");
    const aboutText = document.getElementById("aboutText");
    const howToJoinLabel = document.getElementById("howToJoinLabel");
    const joinText = document.getElementById("joinText");

    const translations = {
      en: {
        title: "Welcome to the Colonial' Craft official Website",
        subtitle: "Explore, survive, and build together. Check who‚Äôs online below.",
        serverLabel: "Server Status",
        aboutLabel: "About Colonial' Craft",
        aboutText: "üåç Welcome to Colonial' Craft!<br>Colonial Craft is a Minecraft Lifesteal SMP where every battle could be your last. Each hit steals hearts from your enemies, bringing you closer to power ‚Äî or closer to elimination. With custom swords and unique combat, every fight is high stakes. Will you survive as a lone warrior, or fall and lose it all? The story of Colonial Craft is written by those strong enough to endure.,
        howToJoinLabel: "How to Join Colonial' Craft",
        joinText: "1. Launch Minecraft (Java Edition recommended).<br>2. Go to Multiplayer and click Add Server.<br>3. Enter Server IP: <strong>colonialcraft.sherman.gg</strong><br>4. Join and start exploring!<br><br>üí°<a href='https://discord.gg/DJPG7rnckN' target='_blank' style='color: var(--link-color);'>Join Discord here</a>"
      },
      de: {
        title: "Willkommen auf der offiziellen Colonial' Craft-Website",
        subtitle: "Erkunde, √ºberlebe und baue zusammen. Sieh, wer online ist.",
        serverLabel: "Serverstatus",
        aboutLabel: "√úber Colonial' Craft",
        aboutText: "üåç Willkommen bei Colonial' Craft!<br>Colonial Craft ist ein Minecraft Earth SMP, bei dem Spieler auf einer riesigen Weltkarte siedeln, Teams, Fraktionen und Nationen bilden, um ihren Einfluss auszubauen. Baue florierende St√§dte, schmiede Allianzen, handle mit Ressourcen und f√ºhre Kriege, um die Welt nach deinen Vorstellungen zu gestalten. Ob du davon tr√§umst, ein m√§chtiges Imperium zu f√ºhren oder einer kleinen Gemeinschaft von Entdeckern beizutreten, die Geschichte von Colonial Craft wird von seinen Spielern geschrieben.",
        howToJoinLabel: "So trittst du Colonial' Craft bei",
        joinText: "1. Starte Minecraft (Java Edition empfohlen).<br>2. Gehe zu Mehrspieler und klicke auf Server hinzuf√ºgen.<br>3. Server-IP eingeben: <strong>colonialcraft.sherman.gg</strong><br>4. Tritt bei und starte dein Abenteuer!<br><br>üí°<a href='https://discord.gg/DJPG7rnckN' target='_blank' style='color: var(--link-color);'>Tritt hier dem Discord bei</a>"
      },
      fr: {
        title: "Bienvenue sur le site officiel de Colonial' Craft",
        subtitle: "Explorez, survivez et construisez ensemble. V√©rifiez qui est en ligne.",
        serverLabel: "Statut du serveur",
        aboutLabel: "√Ä propos de Colonial' Craft",
        aboutText: "üåç Bienvenue sur Colonial' Craft !<br>Colonial Craft est un SMP Minecraft Earth o√π les joueurs s'installent sur une carte massive de la Terre, formant des √©quipes, des factions et des nations pour √©tendre leur influence. Construisez des villes prosp√®res, forgez des alliances, √©changez des ressources et menez des guerres pour fa√ßonner le monde selon votre vision. Que vous r√™viez de diriger un empire puissant ou de rejoindre une petite communaut√© d'explorateurs, l'histoire de Colonial Craft est √©crite par ses joueurs.",
        howToJoinLabel: "Comment rejoindre Colonial' Craft",
        joinText: "1. Lancez Minecraft (√©dition Java recommand√©e).<br>2. Allez dans Multijoueur et cliquez sur Ajouter un serveur.<br>3. Entrez l'IP du serveur : <strong>colonialcraft.sherman.gg</strong><br>4. Rejoignez et commencez √† explorer !<br><br>üí°<a href='https://discord.gg/DJPG7rnckN' target='_blank' style='color: var(--link-color);'>Rejoignez le Discord ici</a>"
      },
      es: {
        title: "Bienvenido al sitio web oficial de Colonial' Craft",
        subtitle: "Explora, sobrevive y construye juntos. Consulta qui√©n est√° en l√≠nea.",
        serverLabel: "Estado del servidor",
        aboutLabel: "Acerca de Colonial' Craft",
        aboutText: "üåç ¬°Bienvenido a Colonial' Craft!<br>Colonial Craft es un SMP de Minecraft Earth donde los jugadores se establecen en un mapa enorme de la Tierra, formando equipos, facciones y naciones para expandir su influencia. Construye ciudades pr√≥speras, forja alianzas, comercia recursos y libra guerras para dar forma al mundo seg√∫n tu visi√≥n. Ya sea que sue√±es con liderar un imperio poderoso o unirte a una peque√±a comunidad de exploradores, la historia de Colonial Craft la escriben sus jugadores.",
        howToJoinLabel: "C√≥mo unirse a Colonial' Craft",
        joinText: "1. Inicia Minecraft (edici√≥n Java recomendada).<br>2. Ve a Multijugador y haz clic en Agregar servidor.<br>3. Ingresa la IP del servidor: <strong>colonialcraft.sherman.gg</strong><br>4. √önete y comienza a explorar.<br><br>üí°<a href='https://discord.gg/DJPG7rnckN' target='_blank' style='color: var(--link-color);'>√önete al Discord aqu√≠</a>"
      }
    };

    function changeLanguage() {
      const lang = document.getElementById("languageSelect").value;
      const t = translations[lang] || translations.en;
      title.innerHTML = t.title;
      subtitle.innerHTML = t.subtitle;
      serverLabel.innerHTML = t.serverLabel;
      aboutLabel.innerHTML = t.aboutLabel;
      aboutText.innerHTML = t.aboutText;
      howToJoinLabel.innerHTML = t.howToJoinLabel;
      joinText.innerHTML = t.joinText;
    }

    let fullPlayerList = [];
    let expanded = false;
    let countdown = 30;

    function toggleSettings() {
      settingsMenu.style.display = settingsMenu.style.display === "flex" ? "none" : "flex";
    }
    function toggleTheme() {
      document.body.classList.toggle("light-mode");
    }

    function renderPlayerList() {
      playerListContainer.innerHTML = "";
      const maxShown = 5;
      const toShow = expanded ? fullPlayerList : fullPlayerList.slice(0, maxShown);
      toShow.forEach(name => {
        const div = document.createElement("div");
        div.className = "player-entry";
        div.innerHTML = `<img src="https://mc-heads.net/avatar/${name}/20" alt="${name} avatar"/>${name}`;
        playerListContainer.appendChild(div);
      });
      if (fullPlayerList.length > maxShown) {
        viewMoreBtn.style.display = "block";
        viewMoreBtn.innerText = expanded ? `Hide extra players` : `View ${fullPlayerList.length - maxShown} more player${fullPlayerList.length - maxShown > 1 ? "s" : ""}`;
      } else viewMoreBtn.style.display = "none";
    }

    function togglePlayerList() { expanded = !expanded; renderPlayerList(); }

    async function checkServerStatus() {
      refreshIcon.classList.add("spin");
      statusText.innerText = "Checking server status...";
      viewMoreBtn.style.display = "none";
      playerListContainer.innerHTML = "";
      try {
        const res = await fetch(`https://api.mcsrvstat.us/2/${serverIP}`);
        const data = await res.json();
        if (!data.online) { statusText.innerHTML = "‚ùå Server is offline"; refreshIcon.classList.remove("spin"); return; }
        const online = data.players.online;
        const max = data.players.max;
        fullPlayerList = data.players.list || [];
        statusText.innerHTML = `‚úÖ Online ‚Äî ${online}/${max} players`;
        renderPlayerList();
      } catch (err) { statusText.innerText = "‚ö†Ô∏è Couldn't fetch server status."; }
      finally { refreshIcon.classList.remove("spin"); countdown = 30; }
    }

    setInterval(() => {
      countdown--;
      autorefreshText.textContent = `Automatically refreshing in ${countdown} seconds`;
      if (countdown <= 0) checkServerStatus();
    }, 1000);

    checkServerStatus();
  </script>
</body>
</html>
